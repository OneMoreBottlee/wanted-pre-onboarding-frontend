{"ast":null,"code":"import _slicedToArray from\"/home/onemorebottlee/Desktop/wanted-pre-onboarding-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{updateTodo}from\"../apis\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ToDo(_ref){var props=_ref.props,deleteHandler=_ref.deleteHandler;var id=props.id,todo=props.todo,isCompleted=props.isCompleted,userId=props.userId;var _useState=useState(isCompleted),_useState2=_slicedToArray(_useState,2),isChcecked=_useState2[0],setIsChecked=_useState2[1];var _useState3=useState(todo),_useState4=_slicedToArray(_useState3,2),nowDo=_useState4[0],setNowDo=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEdit=_useState6[0],setIsEdit=_useState6[1];var _useState7=useState(nowDo),_useState8=_slicedToArray(_useState7,2),editTodo=_useState8[0],setEditTodo=_useState8[1];var token=localStorage.getItem('access_token');var checkHandler=function checkHandler(){setIsChecked(!isChcecked);updateTodo(token,id,todo,!isChcecked);};var editHandler=function editHandler(){updateTodo(token,id,editTodo,isChcecked);setNowDo(editTodo);setIsEdit(false);};return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isChcecked,onChange:checkHandler}),isEdit?/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:nowDo,\"data-testid\":\"modify-input\",onChange:function onChange(e){return setEditTodo(e.target.value);}}):/*#__PURE__*/_jsx(\"span\",{children:nowDo})]}),isEdit?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"submit-button\",onClick:editHandler,children:\"\\uC81C\\uCD9C\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"cancel-button\",onClick:function onClick(){return setIsEdit(false);},children:\"\\uCDE8\\uC18C\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"modify-button\",onClick:function onClick(){return setIsEdit(true);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"delete-button\",onClick:deleteHandler(id),children:\"\\uC0AD\\uC81C\"})]})]});}","map":{"version":3,"names":["useState","updateTodo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ToDo","_ref","props","deleteHandler","id","todo","isCompleted","userId","_useState","_useState2","_slicedToArray","isChcecked","setIsChecked","_useState3","_useState4","nowDo","setNowDo","_useState5","_useState6","isEdit","setIsEdit","_useState7","_useState8","editTodo","setEditTodo","token","localStorage","getItem","checkHandler","editHandler","children","type","checked","onChange","defaultValue","e","target","value","onClick"],"sources":["/home/onemorebottlee/Desktop/wanted-pre-onboarding-frontend/src/Components/todo.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { updateTodo } from \"../apis\";\nimport { TodoListData } from \"../types/todo\";\n\ninterface Props {\n    props: TodoListData;\n    deleteHandler: (id: number) => () => void;\n}\n\nexport default function ToDo({ props, deleteHandler }: Props) {\n    const { id, todo, isCompleted, userId } = props\n    const [isChcecked, setIsChecked] = useState(isCompleted)\n    const [nowDo, setNowDo] = useState(todo)\n    const [isEdit, setIsEdit] = useState(false)\n    const [editTodo, setEditTodo] = useState(nowDo)\n    const token = localStorage.getItem('access_token')\n\n    const checkHandler = () => {\n        setIsChecked(!isChcecked)\n        updateTodo(token!, id, todo, !isChcecked)\n    }\n\n    const editHandler = () => {\n        updateTodo(token!, id, editTodo, isChcecked)\n        setNowDo(editTodo)\n        setIsEdit(false)\n    }\n\n    return (\n        <li>\n            <label>\n                <input type=\"checkbox\" checked={isChcecked} onChange={checkHandler} />\n                {isEdit\n                    ? <input type=\"text\" defaultValue={nowDo} data-testid=\"modify-input\" onChange={(e) => setEditTodo(e.target.value)} />\n                    : <span>{nowDo}</span>\n                }\n            </label>\n            {\n                isEdit\n                    ? (\n                        <>\n                            <button data-testid=\"submit-button\" onClick={editHandler}>제출</button>\n                            <button data-testid=\"cancel-button\" onClick={() => setIsEdit(false)}>취소</button>\n                        </>\n                    ) : (\n                        <>\n                            <button data-testid=\"modify-button\" onClick={() => setIsEdit(true)}>수정</button>\n                            <button data-testid=\"delete-button\" onClick={deleteHandler(id)}>삭제</button>\n                        </>\n                    )}\n\n        </li>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}