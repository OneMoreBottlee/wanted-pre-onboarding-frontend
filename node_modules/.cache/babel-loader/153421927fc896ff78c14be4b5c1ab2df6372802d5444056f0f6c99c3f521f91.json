{"ast":null,"code":"import axios from \"axios\";\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_URL;\n\n// 1. Auth 관련\n// 1-1. SignUp - 회원가입\nexport const signup = async (email, password) => {\n  try {\n    const response = await axios.post(\"auth/signup\", {\n      email,\n      password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = response;\n    return data;\n  } catch (error) {\n    window.alert(`회원 가입 실패 !\\n ID는 @ 포함, PW는 8자리 이상이어야 합니다.`);\n  }\n};\n\n// 1-2. SignIn - 로그인\nexport const signin = async (email, password) => {\n  try {\n    const response = await axios.post(\"auth/signin\", {\n      email,\n      password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = response.data.access_token;\n    return data;\n  } catch (error) {\n    window.alert(`로그인 실패 !\\n 계정 정보를 확인해주세요`);\n  }\n};\n\n// 2. ToDo 관련\n// 2-1. createTodo - Todo 생성\nexport const createTodo = async (token, todo) => {\n  try {\n    const response = await axios.post(\"/todos\", {\n      todo\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = response.data;\n    return data;\n  } catch (error) {\n    window.alert(`에러 발생 !\\n새로운 ToDo를 추가할 수 없습니다.`);\n  }\n};\n\n// 2-2. getTodo - Todo 리스트\nexport const getTodos = async () => {\n  const token = localStorage.getItem(\"access_token\");\n  try {\n    const response = await axios.get(\"todos\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const todos = response.data;\n    return todos;\n  } catch (error) {\n    window.alert(`에러 발생 !\\n현재 Todo 리스트를 가져올 수 없습니다.`);\n  }\n};\n\n// 2-3. updateTodo - Todo 수정\nexport const updateTodo = async (id, todo, isCompleted) => {\n  const token = localStorage.getItem(\"access_token\");\n  const data = {\n    todo,\n    isCompleted\n  };\n  try {\n    const response = await axios.put(`/todos/${id}`, data, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    return response.data;\n  } catch (error) {\n    window.alert(`에러 발생 !`);\n  }\n};\n\n// 2-4. deleteTodo - Todo 삭제\nexport const deleteTodo = async id => {\n  const token = localStorage.getItem(\"access_token\");\n  const confirm = window.confirm(`정말 삭제하시겠습니까? 복원은 안돼요 !`);\n  if (confirm) {\n    await axios.delete(`/todos/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n};","map":{"version":3,"names":["axios","defaults","baseURL","process","env","REACT_APP_SERVER_URL","signup","email","password","response","post","headers","data","error","window","alert","signin","access_token","createTodo","token","todo","Authorization","getTodos","localStorage","getItem","get","todos","updateTodo","id","isCompleted","put","deleteTodo","confirm","delete"],"sources":["/home/onemorebottlee/Desktop/wanted-pre-onboarding-frontend/src/apis/index.ts"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_URL;\n\n// 1. Auth 관련\n// 1-1. SignUp - 회원가입\nexport const signup = async (email: string, password: string) => {\n  try {\n    const response = await axios.post(\n      \"auth/signup\",\n      { email, password },\n      { headers: { \"Content-Type\": \"application/json\" } }\n    );\n    const data = response;\n\n    return data;\n  } catch (error) {\n    window.alert(\n      `회원 가입 실패 !\\n ID는 @ 포함, PW는 8자리 이상이어야 합니다.`\n    );\n  }\n};\n\n// 1-2. SignIn - 로그인\nexport const signin = async (email: string, password: string) => {\n  try {\n    const response = await axios.post(\n      \"auth/signin\",\n      { email, password },\n      { headers: { \"Content-Type\": \"application/json\" } }\n    );\n    const data = response.data.access_token;\n\n    return data;\n  } catch (error) {\n    window.alert(`로그인 실패 !\\n 계정 정보를 확인해주세요`);\n  }\n};\n\n// 2. ToDo 관련\n// 2-1. createTodo - Todo 생성\nexport const createTodo = async (token: string, todo: string) => {\n  try {\n    const response = await axios.post(\n      \"/todos\",\n      { todo },\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const data = response.data;\n    return data;\n  } catch (error) {\n    window.alert(`에러 발생 !\\n새로운 ToDo를 추가할 수 없습니다.`);\n  }\n};\n\n// 2-2. getTodo - Todo 리스트\nexport const getTodos = async () => {\n  const token = localStorage.getItem(\"access_token\");\n  try {\n    const response = await axios.get(\"todos\", {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    const todos = response.data;\n    return todos;\n  } catch (error) {\n    window.alert(`에러 발생 !\\n현재 Todo 리스트를 가져올 수 없습니다.`);\n  }\n};\n\n// 2-3. updateTodo - Todo 수정\nexport const updateTodo = async (id: number, todo: string, isCompleted: boolean) => {\n    const token = localStorage.getItem(\"access_token\")\n    const data = {todo, isCompleted}\n    try{\n        const response = await axios.put(`/todos/${id}`, data, {\n            headers: {\n                Authorization: `Bearer ${token}`,\n                \"Content-Type\": \"application/json\"\n            }})\n        \n        return response.data\n    }catch(error){\n        window.alert(`에러 발생 !`)\n    }\n}\n\n// 2-4. deleteTodo - Todo 삭제\nexport const deleteTodo = async (id: number) => {\n    const token = localStorage.getItem(\"access_token\")\n    const confirm = window.confirm(`정말 삭제하시겠습니까? 복원은 안돼요 !`)\n    if(confirm){\n        await axios.delete(`/todos/${id}`, {headers: {Authorization: `Bearer ${token}`}})\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}